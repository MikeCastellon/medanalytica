/* ══════════════════════════════════════════════════════════
   MedAnalytica — Component Styles
   ══════════════════════════════════════════════════════════ */

/* ── Login ── */
.login-wrap { min-height: 100vh; display: grid; grid-template-columns: 1fr 1fr; }
.login-left { background: var(--navy); display: flex; flex-direction: column; justify-content: space-between; padding: 48px; position: relative; overflow: hidden; }
.ll-bg { position: absolute; inset: 0; background: radial-gradient(ellipse 80% 60% at 10% 90%, rgba(26,111,181,.4) 0%, transparent 60%), radial-gradient(ellipse 60% 50% at 90% 10%, rgba(14,138,122,.25) 0%, transparent 55%); }
.ll-grid { position: absolute; inset: 0; background-image: linear-gradient(rgba(255,255,255,.03) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.03) 1px, transparent 1px); background-size: 32px 32px; }
.ll-content { position: relative; z-index: 1; }
.l-brand { display: flex; align-items: center; gap: 12px; margin-bottom: 72px; }
.l-brand-icon { width: 42px; height: 42px; background: rgba(255,255,255,.15); border: 1px solid rgba(255,255,255,.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
.l-brand-name { font-family: 'Libre Baskerville', serif; font-size: 20px; color: #fff; }
.l-tagline { font-family: 'Libre Baskerville', serif; font-size: 34px; line-height: 1.25; color: #fff; margin-bottom: 20px; }
.l-tagline em { font-style: italic; color: rgba(255,255,255,.55); }
.l-desc { font-size: 14px; color: rgba(255,255,255,.5); line-height: 1.75; max-width: 340px; }
.l-features { position: relative; z-index: 1; display: flex; flex-direction: column; gap: 11px; }
.l-feat { display: flex; align-items: center; gap: 10px; font-size: 13px; color: rgba(255,255,255,.55); }
.f-dot { width: 6px; height: 6px; border-radius: 50%; background: rgba(14,138,122,.9); flex-shrink: 0; }
.login-right { background: var(--bg2); display: flex; align-items: center; justify-content: center; padding: 48px; }
.lf-wrap { width: 100%; max-width: 380px; }
.lf-title { font-family: 'Libre Baskerville', serif; font-size: 26px; color: var(--navy); margin-bottom: 6px; }
.lf-sub { font-size: 14px; color: var(--text2); margin-bottom: 36px; }
.l-err { background: var(--red-lt); border: 1px solid rgba(192,57,43,.2); border-radius: 8px; padding: 10px 14px; color: var(--red); font-size: 13px; margin-bottom: 18px; }
.l-msg { background: rgba(14,138,122,.08); border: 1px solid rgba(14,138,122,.2); border-radius: 8px; padding: 10px 14px; color: var(--teal); font-size: 13px; margin-bottom: 18px; }
.btn-forgot { display: block; margin: 16px auto 0; background: none; border: none; color: var(--blue); font-size: 13px; cursor: pointer; font-family: 'IBM Plex Sans', sans-serif; padding: 4px 8px; transition: color .15s; }
.btn-forgot:hover { color: var(--navy); text-decoration: underline; }

/* ── Layout ── */
.app-layout { display: grid; grid-template-columns: 220px 1fr; min-height: 100vh; }
.sidebar { background: var(--navy); display: flex; flex-direction: column; position: sticky; top: 0; height: 100vh; overflow-y: auto; }
.sb-hdr { padding: 22px 20px 18px; border-bottom: 1px solid rgba(255,255,255,.08); margin-bottom: 6px; }
.sb-brand { display: flex; align-items: center; gap: 10px; }
.sb-icon { width: 34px; height: 34px; background: rgba(255,255,255,.12); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; }
.sb-name { font-family: 'Libre Baskerville', serif; font-size: 17px; color: #fff; }
.nav-lbl { font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: .1em; color: rgba(255,255,255,.28); padding: 14px 20px 5px; }
.nav-item { display: flex; align-items: center; gap: 10px; padding: 10px 20px; color: rgba(255,255,255,.52); font-size: 13.5px; font-weight: 500; cursor: pointer; transition: all .15s; border: none; background: none; width: 100%; text-align: left; font-family: 'IBM Plex Sans', sans-serif; border-left: 3px solid transparent; margin-bottom: 1px; }
.nav-item:hover { color: rgba(255,255,255,.85); background: rgba(255,255,255,.05); }
.nav-item.active { color: #fff; background: rgba(26,111,181,.25); border-left-color: var(--blue); }
.n-ico { font-size: 15px; width: 18px; text-align: center; }
.sb-bot { margin-top: auto; padding: 16px; border-top: 1px solid rgba(255,255,255,.08); }
.u-chip { display: flex; align-items: center; gap: 10px; padding: 10px 12px; background: rgba(255,255,255,.07); border-radius: 8px; overflow: hidden; }
.u-av { width: 32px; height: 32px; background: var(--blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; color: #fff; flex-shrink: 0; }
.u-name { font-weight: 600; color: #fff; font-size: 13px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.u-role { color: rgba(255,255,255,.38); font-size: 11px; }

/* ── Topbar ── */
.topbar { background: var(--bg2); border-bottom: 1px solid var(--border); padding: 0 32px; height: 54px; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 10; }
.tb-bc { font-size: 13px; color: var(--text2); display: flex; align-items: center; gap: 6px; }
.tb-bc strong { color: var(--text); font-weight: 600; }
.tb-r { display: flex; align-items: center; gap: 16px; }
.tb-date { font-size: 12px; color: var(--text3); }
.s-pill { display: inline-flex; align-items: center; gap: 5px; padding: 4px 10px; background: var(--teal-lt); border-radius: 20px; font-size: 11px; font-weight: 600; color: var(--teal); border: 1px solid rgba(14,138,122,.15); }
.s-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--teal); }

/* ── Main ── */
.main-wrap { display: flex; flex-direction: column; min-height: 100vh; background: var(--bg); }
.main-content { padding: 28px 32px; flex: 1; }
.pg-hdr { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 24px; }
.pg-title { font-family: 'Libre Baskerville', serif; font-size: 24px; color: var(--navy); line-height: 1.2; }
.pg-sub { color: var(--text2); font-size: 13px; margin-top: 3px; }

/* ── Stats row ── */
.stats-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; margin-bottom: 24px; }
.sc { background: var(--bg2); border: 1px solid var(--border); border-radius: 10px; padding: 18px 20px; box-shadow: var(--shadow); }
.sc-top { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
.sc-lbl { font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: .07em; color: var(--text3); }
.sc-ico { font-size: 17px; }
.sc-val { font-family: 'Libre Baskerville', serif; font-size: 28px; color: var(--navy); line-height: 1; margin-bottom: 4px; }
.sc-chg { font-size: 12px; color: var(--text3); }
.sc-chg.up { color: var(--green); }
.sc-chg.warn { color: var(--amber); }
.sc-chg.alert { color: var(--red); }

/* ── Card ── */
.card { background: var(--bg2); border: 1px solid var(--border); border-radius: 10px; overflow: hidden; box-shadow: var(--shadow); margin-bottom: 16px; }
.card-hdr { display: flex; align-items: center; justify-content: space-between; padding: 15px 22px; border-bottom: 1px solid var(--border); }
.card-title { font-size: 13.5px; font-weight: 600; color: var(--navy); }
.tw { overflow-x: auto; }
table { width: 100%; border-collapse: collapse; }
th { padding: 10px 20px; text-align: left; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: .07em; color: var(--text3); background: var(--bg); border-bottom: 1px solid var(--border); }
td { padding: 13px 20px; font-size: 13.5px; border-bottom: 1px solid var(--border); color: var(--text); vertical-align: middle; }
tr:last-child td { border-bottom: none; }
tr:hover td { background: #fafbfd; cursor: pointer; }

/* ── Badges ── */
.badge { display: inline-flex; align-items: center; gap: 5px; padding: 3px 9px; border-radius: 20px; font-size: 11.5px; font-weight: 600; }
.badge::before { content: ''; width: 5px; height: 5px; border-radius: 50%; }
.b-g  { background: var(--green-lt); color: var(--green); border: 1px solid rgba(14,122,85,.15); }  .b-g::before  { background: var(--green); }
.b-r  { background: var(--red-lt);   color: var(--red);   border: 1px solid rgba(192,57,43,.15); }  .b-r::before  { background: var(--red); }
.b-a  { background: var(--amber-lt); color: var(--amber); border: 1px solid rgba(180,83,9,.15);  }  .b-a::before  { background: var(--amber); }
.b-gr { background: var(--bg3);      color: var(--text2); border: 1px solid var(--border); }         .b-gr::before { background: var(--text3); }
.b-bl { background: var(--blue-lt);  color: var(--blue);  border: 1px solid rgba(26,111,181,.15); }  .b-bl::before { background: var(--blue); }

/* ── Buttons ── */
.btn { display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px; border-radius: 7px; font-family: 'IBM Plex Sans', sans-serif; font-size: 13px; font-weight: 600; cursor: pointer; transition: all .15s; border: none; }
.btn-nv  { background: var(--navy); color: #fff; }  .btn-nv:hover  { background: var(--navy2); transform: translateY(-1px); }
.btn-ot  { background: #fff; color: var(--navy); border: 1.5px solid var(--border2); }  .btn-ot:hover  { border-color: var(--navy); }
.btn-lk  { background: none; border: none; color: var(--blue); font-family: 'IBM Plex Sans', sans-serif; font-size: 13px; font-weight: 600; cursor: pointer; padding: 0; }  .btn-lk:hover  { color: var(--navy); }
.btn:disabled { opacity: .4; cursor: not-allowed; transform: none !important; }
.btn-login { width: 100%; padding: 12px; background: var(--navy); border: none; border-radius: 8px; color: #fff; font-family: 'IBM Plex Sans', sans-serif; font-size: 14px; font-weight: 600; cursor: pointer; margin-top: 4px; transition: background .2s, transform .1s; }
.btn-login:hover { background: var(--navy2); transform: translateY(-1px); }
.btn-login:disabled { opacity: .6; cursor: not-allowed; }
.back-btn { display: inline-flex; align-items: center; gap: 6px; color: var(--text2); font-size: 13px; cursor: pointer; margin-bottom: 16px; background: none; border: none; font-family: 'IBM Plex Sans', sans-serif; transition: color .15s; }  .back-btn:hover { color: var(--navy); }

/* ── Form cards ── */
.fc { background: var(--bg2); border: 1px solid var(--border); border-radius: 10px; padding: 22px 24px; margin-bottom: 16px; box-shadow: var(--shadow); }
.fc-hdr { display: flex; align-items: center; gap: 10px; margin-bottom: 18px; padding-bottom: 14px; border-bottom: 1px solid var(--border); }
.fc-title { font-size: 13.5px; font-weight: 600; color: var(--navy); }
.fc-badge { font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: .08em; padding: 2px 7px; background: var(--blue-lt); color: var(--blue); border-radius: 4px; }
.fg2 { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
.fs { grid-column: 1 / -1; }
.fa { display: flex; gap: 10px; justify-content: flex-end; padding-top: 8px; }
.hint { font-size: 12px; color: var(--text3); margin-top: 8px; }

/* ── Form inputs ── */
.fg { margin-bottom: 20px; }
.fl { display: block; font-size: 11.5px; font-weight: 600; letter-spacing: .07em; text-transform: uppercase; color: var(--text2); margin-bottom: 7px; }
.fi { width: 100%; background: var(--bg); border: 1.5px solid var(--border); border-radius: 8px; padding: 11px 14px; color: var(--text); font-family: 'IBM Plex Sans', sans-serif; font-size: 14px; outline: none; transition: border-color .2s, box-shadow .2s, background .2s; }
.fi:focus { border-color: var(--blue); background: #fff; box-shadow: 0 0 0 3px rgba(26,111,181,.1); }
.fi::placeholder { color: var(--text3); }
select.fi { appearance: none; cursor: pointer; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%238896aa' d='M6 8L1 3h10z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 12px center; padding-right: 36px; }
textarea.fi { resize: vertical; min-height: 80px; }

/* ── Upload zone ── */
.uz { border: 2px dashed var(--border2); border-radius: 10px; padding: 36px; text-align: center; cursor: pointer; transition: all .2s; background: var(--bg); }
.uz:hover, .uz.drag { border-color: var(--blue); background: var(--blue-lt); }
.uz-ico { font-size: 32px; margin-bottom: 10px; }
.uz-title { font-size: 14px; font-weight: 600; color: var(--navy); margin-bottom: 5px; }
.uz-sub { font-size: 13px; color: var(--text2); }
.fp { display: flex; align-items: center; gap: 12px; background: var(--blue-lt); border: 1.5px solid rgba(26,111,181,.2); border-radius: 8px; padding: 12px 16px; margin-top: 12px; text-align: left; }
.fn { font-size: 13px; font-weight: 600; color: var(--navy); }
.fsz { font-size: 12px; color: var(--text2); }

/* ── Processing ── */
.pw { max-width: 500px; margin: 48px auto; }
.pc { background: var(--bg2); border: 1px solid var(--border); border-radius: 12px; padding: 56px 48px; text-align: center; box-shadow: var(--shadow2); }
.spin { width: 44px; height: 44px; border: 3px solid var(--bg3); border-top-color: var(--blue); border-radius: 50%; margin: 0 auto 24px; animation: spin .8s linear infinite; }
.pt { font-family: 'Libre Baskerville', serif; font-size: 22px; color: var(--navy); margin-bottom: 8px; }
.ps { color: var(--text2); font-size: 14px; }
.sl { display: flex; flex-direction: column; gap: 10px; max-width: 290px; margin: 28px auto 0; text-align: left; }
.si { display: flex; align-items: center; gap: 10px; font-size: 13px; color: var(--text3); }
.si.done { color: var(--green); }
.si.act  { color: var(--navy); font-weight: 500; }
.sd { width: 8px; height: 8px; border-radius: 50%; background: var(--border2); flex-shrink: 0; }
.si.done .sd { background: var(--green); }
.si.act  .sd { background: var(--blue); animation: pulse 1s ease infinite; }

/* ── Patient report ── */
.ph { background: var(--bg2); border: 1px solid var(--border); border-radius: 10px; padding: 20px 24px; margin-bottom: 18px; display: flex; align-items: center; gap: 18px; box-shadow: var(--shadow); }
.p-av { width: 50px; height: 50px; background: var(--navy); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-family: 'Libre Baskerville', serif; font-size: 18px; color: #fff; flex-shrink: 0; }
.p-name { font-family: 'Libre Baskerville', serif; font-size: 20px; color: var(--navy); }
.p-meta { display: flex; gap: 18px; margin-top: 5px; flex-wrap: wrap; }
.p-mi { font-size: 12.5px; color: var(--text2); }
.rg { display: grid; grid-template-columns: 1.15fr .85fr; gap: 16px; margin-bottom: 16px; }
.cc { background: var(--bg2); border: 1px solid var(--border); border-radius: 10px; padding: 20px 22px; box-shadow: var(--shadow); }
.ct { font-size: 13.5px; font-weight: 600; color: var(--navy); margin-bottom: 3px; }
.cs { font-size: 12px; color: var(--text3); margin-bottom: 18px; }
.ml { display: flex; flex-direction: column; gap: 13px; }
.mr { display: grid; grid-template-columns: 120px 1fr 52px; align-items: center; gap: 10px; }
.mn { font-size: 12.5px; color: var(--text2); }
.mb { height: 5px; background: var(--bg3); border-radius: 3px; overflow: hidden; }
.mbi { height: 100%; border-radius: 3px; }
.mv { font-size: 12.5px; font-weight: 700; text-align: right; }
.sum { background: var(--blue-lt); border: 1px solid rgba(26,111,181,.18); border-left: 4px solid var(--blue); border-radius: 8px; padding: 16px 20px; margin-bottom: 16px; }
.sum-lbl { font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: .09em; color: var(--blue); margin-bottom: 8px; }
.sum-txt { font-size: 13.5px; color: var(--navy2); line-height: 1.8; }

/* ── Settings ── */
.re { background: var(--bg); border: 1.5px solid var(--border); border-radius: 8px; padding: 16px; font-family: 'Courier New', monospace; font-size: 12.5px; color: var(--navy); min-height: 220px; width: 100%; resize: vertical; outline: none; line-height: 1.8; }
.re:focus { border-color: var(--blue); box-shadow: 0 0 0 3px rgba(26,111,181,.1); }
.sv { color: var(--green); font-size: 13px; font-weight: 600; }

/* ── Misc ── */
.av-sm { width: 32px; height: 32px; border-radius: 50%; background: var(--navy); display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: 700; color: #fff; flex-shrink: 0; }
.tag-bl { display: inline-flex; align-items: center; padding: 3px 9px; background: var(--blue-lt); border: 1px solid rgba(26,111,181,.2); border-radius: 4px; font-size: 11px; font-weight: 700; color: var(--blue); letter-spacing: .05em; text-transform: uppercase; }

/* ── Report Toolbar (screen only) ── */
.report-toolbar { display: flex; align-items: center; gap: 12px; margin-bottom: 14px; flex-wrap: wrap; }

/* ── Print / Export PDF ── */
@media print {
  .no-print, .sidebar, .topbar, .back-btn, .btn, .btn-ot, .btn-nv,
  .report-toolbar { display: none !important; }

  .app-layout { display: block !important; }
  .main-content { padding: 0 !important; margin: 0 !important; }
  .main-wrap { margin: 0 !important; }
  body { background: #fff !important; }
  * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }

  .cc, .card { break-inside: avoid; page-break-inside: avoid; box-shadow: none !important; }
  .report-header { break-inside: avoid; }
  .rg { grid-template-columns: 1fr 1fr; }

  @page { margin: 16mm 14mm; size: A4; }
}

/* ── Responsive ── */
@media (max-width: 768px) {
  .login-wrap { grid-template-columns: 1fr; }
  .login-left { display: none; }
  .app-layout { grid-template-columns: 1fr; }
  .sidebar { display: none; }
  .stats-row { grid-template-columns: 1fr 1fr; }
  .rg { grid-template-columns: 1fr; }
  .fg2 { grid-template-columns: 1fr; }
}
